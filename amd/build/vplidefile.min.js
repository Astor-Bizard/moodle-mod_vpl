define(["jquery","jqueryui","mod_vpl/vplutil","mod_vpl/vplidecodefile","mod_vpl/vplideblocklyfile","mod_vpl/vplidebinaryfile"],function(u,t,g,c,f,N){return function(t,i,e,n,o){var h="#vpl_file"+t,s="#vpl_tab_name"+t,r=i,l=!0,a=!1,d=this;this.getContent=function(){return e},this.setContent=function(t){e=t},this.getFileManager=function(){return n},this.getFileName=function(){return r},this.getId=function(){return t},this.getTabNameId=function(){return s},this.getTId=function(){return h},this.getFileName=function(){return r},this.isModified=function(){return l},this.resetModified=function(){l=!1,this.showFileName()},this.setModified=function(){l=!0},this.getTabPos=function(){return n.getTabPos(this)},this.isOpen=function(){return a},this.setOpen=function(t){a=t},this.getVPLIDE=function(){return o},this.change=function(){l||(g.log("File change",!0),this.setModified(!0),n.generateFileList(),this.showFileName()),g.longDelay("setModified",n.setModified)},this.setFileName=function(t){return!!g.validPath(t)&&(t!=r&&(r=t,d.change()),a&&(this.showFileName(),this.langSelection()),!0)},this.showFileName=function(){var t=this.getFileName(),i=g.getFileName(t);20<i.length&&(i=i.substring(0,16)+"...");var e=(l?g.iconModified():"")+i;this.getTabPos()<n.minNumberOfFiles?e+=g.iconRequired():e+=g.iconClose(),u(s+" a").html(e),i!=t&&u(s+" a").attr("title",t),g.afterAll("adjustTabsTitles"+d.id,function(){n.adjustTabsTitles(!0),g.delay("adjustTabsTitles"+d.id,function(){d.adjustSize()})})},this.destroy=function(){u(s).remove(),u(h).remove()},this.adjustSize=function(){if(!a)return!1;var t=u(h),i=t.parent();if(0===t.length)return!1;var e=t.height(),n=t.width(),o=i.height();o-=t.position().top;var s=u("#vpl_tabs_scroll").width();return(o!=e||s!=n)&&(u(t).height(o),u(t).width(s),!0)},this.gotoLine=g.doNothing,this.setReadOnly=g.doNothing,this.focus=g.doNothing,this.blur=g.doNothing,this.undo=g.doNothing,this.redo=g.doNothing,this.selectAll=g.doNothing,this.open=g.doNothing,this.hasUndo=g.returnFalse,this.hasRedo=g.returnFalse,this.hasSelectAll=g.returnFalse,this.hasFind=g.returnFalse,this.hasFindReplace=g.returnFalse,this.hasNext=g.returnFalse,this.find=g.doNothing,this.replace=g.doNothing,this.next=g.doNothing,this.getAnnotations=function(){return[]},this.setAnnotations=g.doNothing,this.setFontSize=g.doNothing,this.setTheme=g.doNothing,this.clearAnnotations=g.doNothing,this.langSelection=g.doNothing,this.isBinary=function(){return!1},this.extendToCodeEditor=c,this.extendToBlockly=f,this.extendToBinary=N}});