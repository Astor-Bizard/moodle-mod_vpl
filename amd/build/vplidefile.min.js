define(["jquery","jqueryui","mod_vpl/vplutil","mod_vpl/vplidecodefile","mod_vpl/vplideblocklyfile","mod_vpl/vplidebinaryfile"],function(u,t,f,g,c,N){return function(t,i,e,n,s){var h="#vpl_file"+t,o="#vpl_tab_name"+t,r=i,a=!0,d=!1,l=this;this.getContent=function(){return e},this.setContent=function(t){e=t},this.getFileManager=function(){return n},this.getFileName=function(){return r},this.getId=function(){return t},this.getTabNameId=function(){return o},this.getTId=function(){return h},this.getFileName=function(){return r},this.isModified=function(){return a},this.resetModified=function(){a=!1,this.showFileName()},this.setModified=function(){a=!0},this.getTabPos=function(){return n.getTabPos(this)},this.isOpen=function(){return d},this.setOpen=function(t){d=t},this.getVPLIDE=function(){return s},this.change=function(){a||(this.setModified(!0),n.generateFileList(),this.showFileName(),f.longDelay("setModified",n.setModified))},this.setFileName=function(t){return!!f.validPath(t)&&(t!=r&&(r=t,l.change()),this.isOpen()&&(this.showFileName(),this.langSelection()),!0)},this.showFileName=function(){var t=this.getFileName(),i=f.getFileName(t);20<i.length&&(i=i.substring(0,16)+"...");var e=(a?f.iconModified():"")+i;this.getTabPos()<n.minNumberOfFiles?e+=f.iconRequired():e+=f.iconClose(),u(o+" a").html(e),i!=t&&u(o+" a").attr("title",t),f.afterAll("adjustTabsTitles"+l.id,function(){n.adjustTabsTitles(!0),f.delay("adjustTabsTitles"+l.id,function(){l.adjustSize()})})},this.destroy=function(){u(o).remove(),u(h).remove()},this.adjustSize=function(){if(!d)return!1;var t=u(h),i=t.parent();if(0===t.length)return!1;var e=t.height(),n=t.width(),s=i.height();s-=t.position().top;var o=u("#vpl_tabs_scroll").width();return(s!=e||o!=n)&&(u(t).height(s),u(t).width(o),!0)},this.gotoLine=f.doNothing,this.setReadOnly=f.doNothing,this.focus=f.doNothing,this.blur=f.doNothing,this.undo=f.doNothing,this.redo=f.doNothing,this.selectAll=f.doNothing,this.open=f.doNothing,this.hasUndo=f.returnFalse,this.hasRedo=f.returnFalse,this.hasSelectAll=f.returnFalse,this.hasFind=f.returnFalse,this.hasFindReplace=f.returnFalse,this.hasNext=f.returnFalse,this.find=f.doNothing,this.replace=f.doNothing,this.next=f.doNothing,this.getAnnotations=function(){return[]},this.setAnnotations=f.doNothing,this.setFontSize=f.doNothing,this.setTheme=f.doNothing,this.clearAnnotations=f.doNothing,this.langSelection=f.doNothing,this.isBinary=function(){return!1},this.extendToCodeEditor=g,this.extendToBlockly=c,this.extendToBinary=N}});